import{a as e,B as s,F as t}from"./vant-a16f730f.js";import"./vue-03a215b1.js";import{_ as a}from"./index-271aa645.js";import{l as o,E as r,F as c,K as i,O as l,k as n,a as u,r as p,w as m,P as b,L as f,N as v,H as d,n as h,Q as g,v as j,g as x}from"./@vue-611c4f72.js";import{a as _}from"./axios-19ffbc1d.js";import"./@vant-eeb1ce9e.js";import"./vconsole-0a91c04a.js";import"./vue-router-23672032.js";import"./pinia-e252931b.js";import"./vue-demi-959a63ff.js";import"./pinia-plugin-persistedstate-4761f546.js";/* empty css                      */import"./lib-flexible-29152b4f.js";const y={class:"chat-right-container"},k={class:"chat-box"},O={class:"chat"},w=o({name:"ChatRight"}),R=a(Object.assign(w,{props:{chat:{type:Object,required:!0}},setup:s=>(t,a)=>{const o=e;return r(),c("div",y,[i("div",k,[i("p",O,l(s.chat.content),1)]),n(o,{class:"avatar-box",fit:"cover",round:"",src:(u="user.jpg",new URL(Object.assign({"/src/assets/images/robot.jpg":"/vue-mobile/static/jpg/robot-0cc365fd.jpg","/src/assets/images/user.jpg":"/vue-mobile/static/jpg/user-b6ba143b.jpg"})[`/src/assets/images/${u}`],self.location).href)},null,8,["src"])]);var u}}),[["__scopeId","data-v-55def404"],["__file","D:/Code/vue-mobile/src/views/robot/components/chat-right.vue"]]),C={class:"chat-left-container"},L={class:"chat-box"},q={class:"chat"},U=o({name:"ChatLeft"}),$=a(Object.assign(U,{props:{chat:{type:Object,required:!0}},setup:s=>(t,a)=>{const o=e;return r(),c("div",C,[n(o,{class:"avatar-box",fit:"cover",round:"",src:(u="robot.jpg",new URL(Object.assign({"/src/assets/images/robot.jpg":"/vue-mobile/static/jpg/robot-0cc365fd.jpg","/src/assets/images/user.jpg":"/vue-mobile/static/jpg/user-b6ba143b.jpg"})[`/src/assets/images/${u}`],self.location).href)},null,8,["src"]),i("div",L,[i("p",q,l(s.chat.content),1)])]);var u}}),[["__scopeId","data-v-6ca478e8"],["__file","D:/Code/vue-mobile/src/views/robot/components/chat-left.vue"]]),z=_.create({baseURL:"",timeout:1e4});z.interceptors.request.use((e=>e),(e=>(console.log("请求错误==>",e),Promise.reject(e)))),z.interceptors.response.use((e=>{if(200===e.status)return e.data}),(e=>(console.log("响应错误==>",e),Promise.reject(e))));const D={class:"common-container"},H={class:"chat-list"},I={class:"common-footer input-box"},P=j("发送"),V=o({name:"Robot"}),E=a(Object.assign(V,{setup(e){const{proxy:a}=x(),o=u([]),l=p(""),j=p(null),_=p(null);function y(){if(l.value){!function(e){const s={role:"robot",type:"text",content:""};(t=e,z({url:`/qingyunke/api.php?key=free&appid=0&msg=${t}`,method:"get"})).then((e=>{0===e.result&&(s.content=e.content.replace(/{br}/g," "),o.push(s))})).catch((()=>{s.content="正在学习中~",o.push(s)}));var t}(l.value);const e={role:"user",type:"text",content:l.value};o.push(e),setTimeout((()=>{l.value=""}),0)}a.$refs.inputRef.focus()}return m(o,(()=>{h((()=>{j.value.scrollTo({top:j.value.scrollHeight,behavior:"smooth"})}))})),(e,a)=>{const u=s,p=t;return r(),c("div",D,[b(" 聊天内容 "),i("div",{ref_key:"chatEl",ref:j,class:"common-main chat-box"},[i("ul",H,[(r(!0),c(f,null,v(o,((e,s)=>(r(),c("li",{class:"chat-item",key:s},["user"===e.role?(r(),g(R,{key:0,chat:e},null,8,["chat"])):(r(),g($,{key:1,chat:e},null,8,["chat"]))])))),128))])],512),b(" 输入区域 "),i("div",I,[n(p,{ref_key:"inputRef",ref:_,modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e),modelModifiers:{trim:!0},rows:"1",type:"textarea",autosize:{maxHeight:200},placeholder:"请输入..."},{button:d((()=>[n(u,{size:"small",type:"primary",maxlength:"100",onClick:y},{default:d((()=>[P])),_:1})])),_:1},8,["modelValue"])])])}}}),[["__scopeId","data-v-a083618e"],["__file","D:/Code/vue-mobile/src/views/robot/index.vue"]]);export{E as default};
