import"./vue-22a14526.js";import{r as e,a as t,i as n,w as o,j as l,n as r,k as a,g as i,l as s,c,p as u,q as d,s as f,v as g,x as p,y as v,z as m}from"./@vue-1f0ad867.js";import{u as h,a as b,b as y,C as x}from"./@vant-354b90af.js";const S=Object.assign,w="undefined"!=typeof window;function k(e,t){const n=t.split(".");let o=e;return n.forEach((e=>{var t;o=null!=(t=o[e])?t:""})),o}const C=e=>Array.isArray(e)?e:[e],z=[Number,String],B={type:Boolean,default:!0},$=e=>({type:String,default:e}),T=e=>null!=e,P=e=>"function"==typeof e,A=e=>null!==e&&"object"==typeof e,I=e=>"number"==typeof e||/^\d+(\.\d+)?$/.test(e);function E(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function j(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function L(e){E(window,e),E(document.body,e)}const V=!!w&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase());function M(e,t){("boolean"!=typeof e.cancelable||e.cancelable)&&e.preventDefault(),t&&(e=>{e.stopPropagation()})(e)}function O(e){if(T(e))return I(e)?`${e}px`:String(e)}h();const q=/-(\w)/g,D=e=>e.replace(q,((e,t)=>t.toUpperCase()));function W(e,t,n){const o=e.indexOf(t);return-1===o?e:"-"===t&&0!==o?e.slice(0,o):e.slice(0,o+1)+e.slice(o).replace(n,"")}const{hasOwnProperty:N}=Object.prototype;function F(e,t){return Object.keys(t).forEach((n=>{!function(e,t,n){const o=t[n];T(o)&&(N.call(e,n)&&A(o)?e[n]=F(Object(e[n]),o):e[n]=o)}(e,t,n)})),e}const H=e("zh-CN"),Z=t({"zh-CN":{name:"姓名",tel:"电话",save:"保存",confirm:"确认",cancel:"取消",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",postal:"邮政编码",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",postalEmpty:"邮政编码不正确",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}}});var R={messages:()=>Z[H.value],use(e,t){H.value=e,this.add({[e]:t})},add(e={}){F(Z,e)}};function _(e){const t=D(e)+".";return(e,...n)=>{const o=R.messages(),l=k(o,t+e)||k(o,e);return P(l)?l(...n):l}}function K(e,t){return t?"string"==typeof t?` ${e}--${t}`:Array.isArray(t)?t.reduce(((t,n)=>t+K(e,n)),""):Object.keys(t).reduce(((n,o)=>n+(t[o]?K(e,o):"")),""):""}function U(e){return(t,n)=>(t&&"string"!=typeof t&&(n=t,t=""),`${t=t?`${e}__${t}`:e}${K(t,n)}`)}function X(e){const t=`van-${e}`;return[t,U(t),_(t)]}const Y=Symbol("van-form");function G(e){return e.install=t=>{const{name:n}=e;t.component(n,e),t.component(D(`-${n}`),e)},e}const J=Symbol();const Q=(t,a)=>{const i=e(),s=()=>{i.value=b(t).height};return l((()=>{if(r(s),a)for(let e=1;e<=3;e++)setTimeout(s,100*e)})),function(e){const t=n(J,null);t&&o(t,(t=>{t&&e()}))}((()=>r(s))),i};const ee={to:[String,Object],url:String,replace:Boolean};function te(){const e=i().proxy;return()=>function({to:e,url:t,replace:n,$router:o}){e&&o?o[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}(e)}const[ne,oe]=X("badge");const le=G(s({name:ne,props:{dot:Boolean,max:z,tag:$("div"),color:String,offset:Array,content:z,showZero:B,position:$("top-right")},setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:n,showZero:o}=e;return T(n)&&""!==n&&(o||0!==n&&"0"!==n)},o=()=>{const{dot:o,max:l,content:r}=e;if(!o&&n())return t.content?t.content():T(l)&&I(r)&&+r>l?`${l}+`:r},l=c((()=>{const n={background:e.color};if(e.offset){const[o,l]=e.offset;t.default?(n.top=O(l),n.right="number"==typeof o?O(-o):o.startsWith("-")?o.replace("-",""):`-${o}`):(n.marginTop=O(l),n.marginLeft=O(o))}return n})),r=()=>{if(n()||e.dot)return a("div",{class:oe([e.position,{dot:e.dot,fixed:!!t.default}]),style:l.value},[o()])};return()=>{if(t.default){const{tag:n}=e;return a(n,{class:oe("wrapper")},{default:()=>[t.default(),r()]})}return r()}}})),[re,ae]=X("config-provider"),ie=Symbol(re);s({name:re,props:{tag:$("div"),zIndex:Number,themeVars:Object,iconPrefix:String},setup(e,{slots:t}){const n=c((()=>{if(e.themeVars)return function(e){const t={};return Object.keys(e).forEach((n=>{var o;t[`--van-${o=n,o.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"")}`]=e[n]})),t}(e.themeVars)}));return u(ie,e),d((()=>{void 0!==e.zIndex&&e.zIndex})),()=>a(e.tag,{class:ae(),style:n.value},{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t)]}})}});const[se,ce]=X("icon");const ue=G(s({name:se,props:{dot:Boolean,tag:$("i"),name:String,size:z,badge:z,color:String,badgeProps:Object,classPrefix:String},setup(e,{slots:t}){const o=n(ie,null),l=c((()=>e.classPrefix||(null==o?void 0:o.iconPrefix)||ce()));return()=>{const{tag:n,dot:o,name:r,size:i,badge:s,color:c}=e,u=(e=>null==e?void 0:e.includes("/"))(r);return a(le,f({dot:o,tag:n,class:[l.value,u?"":`${l.value}-${r}`],style:{color:c,fontSize:O(i)},content:s},e.badgeProps),{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t),u&&a("img",{class:ce("image"),src:r},null)]}})}}})),[de,fe]=X("loading"),ge=Array(12).fill(null).map(((e,t)=>a("i",{class:fe("line",String(t+1))},null))),pe=a("svg",{class:fe("circular"),viewBox:"25 25 50 50"},[a("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]);const ve=G(s({name:de,props:{size:z,type:$("circular"),color:String,vertical:Boolean,textSize:z,textColor:String},setup(e,{slots:t}){const n=c((()=>S({color:e.color},function(e){if(T(e)){if(Array.isArray(e))return{width:O(e[0]),height:O(e[1])};const t=O(e);return{width:t,height:t}}}(e.size)))),o=()=>{var n;if(t.default)return a("span",{class:fe("text"),style:{fontSize:O(e.textSize),color:null!=(n=e.textColor)?n:e.color}},[t.default()])};return()=>{const{type:t,vertical:l}=e;return a("div",{class:fe([t,{vertical:l}]),"aria-live":"polite","aria-busy":!0},[a("span",{class:fe("spinner",t),style:n.value},["spinner"===t?ge:pe]),o()])}}})),[me,he]=X("button");const be=G(s({name:me,props:S({},ee,{tag:$("button"),text:String,icon:String,type:$("default"),size:$("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:$("button"),loadingSize:z,loadingText:String,loadingType:String,iconPosition:$("left")}),emits:["click"],setup(e,{emit:t,slots:n}){const o=te(),l=()=>e.loading?n.loading?n.loading():a(ve,{size:e.loadingSize,type:e.loadingType,class:he("loading")},null):n.icon?a("div",{class:he("icon")},[n.icon()]):e.icon?a(ue,{name:e.icon,class:he("icon"),classPrefix:e.iconPrefix},null):void 0,r=()=>{let t;if(t=e.loading?e.loadingText:n.default?n.default():e.text,t)return a("span",{class:he("text")},[t])},i=()=>{const{color:t,plain:n}=e;if(t){const e={color:n?t:"white"};return n||(e.background=t),t.includes("gradient")?e.border=0:e.borderColor=t,e}},s=n=>{e.loading?M(n):e.disabled||(t("click",n),o())};return()=>{const{tag:t,type:n,size:o,block:c,round:u,plain:d,square:f,loading:g,disabled:p,hairline:v,nativeType:m,iconPosition:h}=e,b=[he([n,o,{plain:d,block:c,round:u,square:f,loading:g,disabled:p,hairline:v}]),{"van-hairline--surround":v}];return a(t,{type:m,class:b,style:i(),disabled:p,onClick:s},{default:()=>[a("div",{class:he("content")},["left"===h&&l(),r(),"right"===h&&l()])]})}}})),[ye,xe]=X("cell"),Se={icon:String,size:String,title:z,value:z,label:z,center:Boolean,isLink:Boolean,border:B,required:Boolean,iconPrefix:String,valueClass:null,labelClass:null,titleClass:null,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}};const we=G(s({name:ye,props:S({},Se,ee),setup(e,{slots:t}){const n=te(),o=()=>{if(t.label||T(e.label))return a("div",{class:[xe("label"),e.labelClass]},[t.label?t.label():e.label])},l=()=>{if(t.title||T(e.title))return a("div",{class:[xe("title"),e.titleClass],style:e.titleStyle},[t.title?t.title():a("span",null,[e.title]),o()])},r=()=>{const n=t.value||t.default;if(n||T(e.value)){const o=t.title||T(e.title);return a("div",{class:[xe("value",{alone:!o}),e.valueClass]},[n?n():a("span",null,[e.value])])}},i=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const t=e.arrowDirection?`arrow-${e.arrowDirection}`:"arrow";return a(ue,{name:t,class:xe("right-icon")},null)}};return()=>{var o,s;const{size:c,center:u,border:d,isLink:f,required:g}=e,p=null!=(o=e.clickable)?o:f,v={center:u,required:g,clickable:p,borderless:!d};return c&&(v[c]=!!c),a("div",{class:xe(v),role:p?"button":void 0,tabindex:p?0:void 0,onClick:n},[t.icon?t.icon():e.icon?a(ue,{name:e.icon,class:xe("left-icon"),classPrefix:e.iconPrefix},null):void 0,l(),r(),i(),null==(s=t.extra)?void 0:s.call(t)])}}}));function ke(e){return Array.isArray(e)?!e.length:0!==e&&!e}function Ce(e,t){return new Promise((n=>{const o=t.validator(e,t);var l;A(l=o)&&P(l.then)&&P(l.catch)?o.then(n):n(o)}))}function ze(e,t){const{message:n}=t;return P(n)?n(e,t):n||""}function Be({target:e}){e.composing=!0}function $e({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function Te(e){return[...e].length}const[Pe,Ae]=X("field"),Ie={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:z,formatter:Function,clearIcon:$("clear"),modelValue:(Ee="",{type:z,default:Ee}),inputAlign:String,placeholder:String,autocomplete:String,errorMessage:String,enterkeyhint:String,clearTrigger:$("focus"),formatTrigger:$("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}};var Ee;const je=G(s({name:Pe,props:S({},Se,Ie,{rows:z,type:$("text"),rules:Array,autosize:[Boolean,Object],labelWidth:z,labelClass:null,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}}),emits:["blur","focus","clear","keypress","click-input","end-validate","start-validate","click-left-icon","click-right-icon","update:modelValue"],setup(n,{emit:s,slots:d}){const p=function(){const e=i(),{name:t="unknown"}=(null==e?void 0:e.type)||{};return t}(),v=t({status:"unvalidated",focused:!1,validateMessage:""}),m=e(),h=e(),{parent:b}=y(Y),w=()=>{var e;return String(null!=(e=n.modelValue)?e:"")},k=e=>T(n[e])?n[e]:b&&T(b.props[e])?b.props[e]:void 0,z=c((()=>{const e=k("readonly");if(n.clearable&&!e){const e=""!==w(),t="always"===n.clearTrigger||"focus"===n.clearTrigger&&v.focused;return e&&t}return!1})),B=c((()=>h.value&&d.input?h.value():n.modelValue)),$=e=>e.reduce(((e,t)=>e.then((()=>{if("failed"===v.status)return;let{value:e}=B;if(t.formatter&&(e=t.formatter(e,t)),!function(e,t){if(ke(e)){if(t.required)return!1;if(!1===t.validateEmpty)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}(e,t))return v.status="failed",void(v.validateMessage=ze(e,t));if(t.validator){if(ke(e)&&!1===t.validateEmpty)return;return Ce(e,t).then((n=>{n&&"string"==typeof n?(v.status="failed",v.validateMessage=n):!1===n&&(v.status="failed",v.validateMessage=ze(e,t))}))}}))),Promise.resolve()),P=()=>{v.status="unvalidated",v.validateMessage=""},I=()=>s("end-validate",{status:v.status}),E=(e=n.rules)=>new Promise((t=>{P(),e?(s("start-validate"),$(e).then((()=>{"failed"===v.status?(t({name:n.name,message:v.validateMessage}),I()):(v.status="passed",t(),I())}))):t()})),q=e=>{if(b&&n.rules){const{validateTrigger:t}=b.props,o=C(t).includes(e),l=n.rules.filter((t=>t.trigger?C(t.trigger).includes(e):o));l.length&&E(l)}},D=(e,t="onChange")=>{if(e=(e=>{const{maxlength:t}=n;if(T(t)&&Te(e)>t){const n=w();return n&&Te(n)===+t?n:function(e,t){return[...e].slice(0,t).join("")}(e,+t)}return e})(e),"number"===n.type||"digit"===n.type){const t="number"===n.type;e=function(e,t=!0,n=!0){e=t?W(e,".",/\./g):e.split(".")[0];const o=t?/[^-0-9.]/g:/[^-0-9]/g;return(e=n?W(e,"-",/-/g):e.replace(/-/,"")).replace(o,"")}(e,t,t)}n.formatter&&t===n.formatTrigger&&(e=n.formatter(e)),m.value&&m.value.value!==e&&(m.value.value=e),e!==n.modelValue&&s("update:modelValue",e)},N=e=>{e.target.composing||D(e.target.value)},F=()=>{var e;return null==(e=m.value)?void 0:e.blur()},H=()=>{const e=m.value;"textarea"===n.type&&n.autosize&&e&&function(e,t){const n=j();e.style.height="auto";let o=e.scrollHeight;if(A(t)){const{maxHeight:e,minHeight:n}=t;void 0!==e&&(o=Math.min(o,e)),void 0!==n&&(o=Math.max(o,n))}o&&(e.style.height=`${o}px`,L(n))}(e,n.autosize)},Z=e=>{v.focused=!0,s("focus",e),r(H),k("readonly")&&F()},R=e=>{k("readonly")||(v.focused=!1,D(w(),"onBlur"),s("blur",e),q("onBlur"),r(H),V&&L(j()))},_=e=>s("click-input",e),K=e=>s("click-left-icon",e),U=e=>s("click-right-icon",e),X=e=>{M(e),s("update:modelValue",""),s("clear",e)},G=c((()=>"boolean"==typeof n.error?n.error:!(!b||!b.props.showError||"failed"!==v.status)||void 0)),J=c((()=>{const e=k("labelWidth");if(e)return{width:O(e)}})),Q=e=>{if(13===e.keyCode){b&&b.props.submitOnEnter||"textarea"===n.type||M(e),"search"===n.type&&F()}s("keypress",e)},ee=()=>n.id||`${p}-input`,te=()=>{const e=Ae("control",[k("inputAlign"),{error:G.value,custom:!!d.input,"min-height":"textarea"===n.type&&!n.autosize}]);if(d.input)return a("div",{class:e,onClick:_},[d.input()]);const t={id:ee(),ref:m,name:n.name,rows:void 0!==n.rows?+n.rows:void 0,class:e,disabled:k("disabled"),readonly:k("readonly"),autofocus:n.autofocus,placeholder:n.placeholder,autocomplete:n.autocomplete,enterkeyhint:n.enterkeyhint,"aria-labelledby":n.label?`${p}-label`:void 0,onBlur:R,onFocus:Z,onInput:N,onClick:_,onChange:$e,onKeypress:Q,onCompositionend:$e,onCompositionstart:Be};return"textarea"===n.type?a("textarea",t,null):a("input",f("number"===(o=n.type)?{type:"text",inputmode:"decimal"}:"digit"===o?{type:"tel",inputmode:"numeric"}:{type:o},t),null);var o},ne=()=>{const e=d["right-icon"];if(n.rightIcon||e)return a("div",{class:Ae("right-icon"),onClick:U},[e?e():a(ue,{name:n.rightIcon,classPrefix:n.iconPrefix},null)])},oe=()=>{if(n.showWordLimit&&n.maxlength){const e=Te(w());return a("div",{class:Ae("word-limit")},[a("span",{class:Ae("word-num")},[e]),g("/"),n.maxlength])}},le=()=>{if(b&&!1===b.props.showErrorMessage)return;const e=n.errorMessage||v.validateMessage;if(e){const t=d["error-message"],n=k("errorMessageAlign");return a("div",{class:Ae("error-message",n)},[t?t({message:e}):e])}},re=()=>[a("div",{class:Ae("body")},[te(),z.value&&a(ue,{name:n.clearIcon,class:Ae("clear"),onTouchstart:X},null),ne(),d.button&&a("div",{class:Ae("button")},[d.button()])]),oe(),le()];return function(e){const t=i();t&&S(t.proxy,e)}({blur:F,focus:()=>{var e;return null==(e=m.value)?void 0:e.focus()},validate:E,formValue:B,resetValidation:P,getValidationStatus:()=>v.status}),u(x,{customValue:h,resetValidation:P,validateWithTrigger:q}),o((()=>n.modelValue),(()=>{D(w()),P(),q("onChange"),r(H)})),l((()=>{D(w(),n.formatTrigger),r(H)})),()=>{const e=k("disabled"),t=k("labelAlign"),o=(()=>{const e=k("colon")?":":"";return d.label?[d.label(),e]:n.label?a("label",{id:`${p}-label`,for:ee()},[n.label+e]):void 0})(),l=(()=>{const e=d["left-icon"];if(n.leftIcon||e)return a("div",{class:Ae("left-icon"),onClick:K},[e?e():a(ue,{name:n.leftIcon,classPrefix:n.iconPrefix},null)])})();return a(we,{size:n.size,icon:n.leftIcon,class:Ae({error:G.value,disabled:e,[`label-${t}`]:t}),center:n.center,border:n.border,isLink:n.isLink,clickable:n.clickable,titleStyle:J.value,valueClass:Ae("value"),titleClass:[Ae("label",[t,{required:n.required}]),n.labelClass],arrowDirection:n.arrowDirection},{icon:l?()=>l:null,title:o?()=>o:null,value:re,extra:d.extra})}}})),[Le,Ve]=X("image");const Me=G(s({name:Le,props:{src:String,alt:String,fit:String,position:String,round:Boolean,width:z,height:z,radius:z,lazyLoad:Boolean,iconSize:z,showError:B,errorIcon:$("photo-fail"),iconPrefix:String,showLoading:B,loadingIcon:$("photo")},emits:["load","error"],setup(t,{emit:n,slots:l}){const s=e(!1),u=e(!0),d=e(),{$Lazyload:g}=i().proxy,h=c((()=>{const e={width:O(t.width),height:O(t.height)};return T(t.radius)&&(e.overflow="hidden",e.borderRadius=O(t.radius)),e}));o((()=>t.src),(()=>{s.value=!1,u.value=!0}));const b=e=>{u.value=!1,n("load",e)},y=e=>{s.value=!0,u.value=!1,n("error",e)},x=(e,n,o)=>o?o():a(ue,{name:e,size:t.iconSize,class:n,classPrefix:t.iconPrefix},null),S=()=>{if(s.value||!t.src)return;const e={alt:t.alt,class:Ve("img"),style:{objectFit:t.fit,objectPosition:t.position}};return t.lazyLoad?v(a("img",f({ref:d},e),null),[[m("lazy"),t.src]]):a("img",f({src:t.src,onLoad:b,onError:y},e),null)},k=({el:e})=>{const t=()=>{e===d.value&&u.value&&b()};d.value?t():r(t)},C=({el:e})=>{e!==d.value||s.value||y()};return g&&w&&(g.$on("loaded",k),g.$on("error",C),p((()=>{g.$off("loaded",k),g.$off("error",C)}))),()=>{var e;return a("div",{class:Ve({round:t.round}),style:h.value},[S(),u.value&&t.showLoading?a("div",{class:Ve("loading")},[x(t.loadingIcon,Ve("loading-icon"),l.loading)]):s.value&&t.showError?a("div",{class:Ve("error")},[x(t.errorIcon,Ve("error-icon"),l.error)]):void 0,null==(e=l.default)?void 0:e.call(l)])}}})),[Oe,qe]=X("nav-bar");const De=G(s({name:Oe,props:{title:String,fixed:Boolean,zIndex:z,border:B,leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean},emits:["click-left","click-right"],setup(t,{emit:n,slots:o}){const l=e(),r=function(e,t){const n=Q(e,!0);return e=>a("div",{class:t("placeholder"),style:{height:n.value?`${n.value}px`:void 0}},[e()])}(l,qe),i=e=>n("click-left",e),s=e=>n("click-right",e),c=()=>{const{title:e,fixed:n,border:r,zIndex:c}=t,u=function(e){const t={};return void 0!==e&&(t.zIndex=+e),t}(c),d=t.leftArrow||t.leftText||o.left,f=t.rightText||o.right;return a("div",{ref:l,style:u,class:[qe({fixed:n}),{"van-hairline--bottom":r,"van-safe-area-top":t.safeAreaInsetTop}]},[a("div",{class:qe("content")},[d&&a("div",{class:[qe("left"),"van-haptics-feedback"],onClick:i},[o.left?o.left():[t.leftArrow&&a(ue,{class:qe("arrow"),name:"arrow-left"},null),t.leftText&&a("span",{class:qe("text")},[t.leftText])]]),a("div",{class:[qe("title"),"van-ellipsis"]},[o.title?o.title():e]),f&&a("div",{class:[qe("right"),"van-haptics-feedback"],onClick:s},[o.right?o.right():a("span",{class:qe("text")},[t.rightText])])])])};return()=>t.fixed&&t.placeholder?r(c):c()}}));export{be as B,je as F,ue as I,De as N,Me as a};
