import"./vue-aad5c3bd.js";import{r as e,a as t,b as n,n as o,d as l,g as r,e as a,c as i,p as s,i as c,m as u,w as d,f,h as g,j as p,k as v}from"./@vue-dfbb774f.js";import{u as m,a as h,b,C as y}from"./@vant-109da46a.js";const x=Object.assign,S="undefined"!=typeof window;function w(e,t){const n=t.split(".");let o=e;return n.forEach((e=>{var t;o=null!=(t=o[e])?t:""})),o}const k=e=>Array.isArray(e)?e:[e],C=[Number,String],B={type:Boolean,default:!0},$=e=>({type:String,default:e}),z=e=>null!=e,T=e=>"function"==typeof e,P=e=>null!==e&&"object"==typeof e,A=e=>"number"==typeof e||/^\d+(\.\d+)?$/.test(e);function I(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function j(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function L(e){I(window,e),I(document.body,e)}const E=!!S&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase());function V(e,t){("boolean"!=typeof e.cancelable||e.cancelable)&&e.preventDefault(),t&&(e=>{e.stopPropagation()})(e)}function M(e){if(z(e))return A(e)?`${e}px`:String(e)}m();const O=/-(\w)/g,q=e=>e.replace(O,((e,t)=>t.toUpperCase()));function D(e,t,n){const o=e.indexOf(t);return-1===o?e:"-"===t&&0!==o?e.slice(0,o):e.slice(0,o+1)+e.slice(o).replace(n,"")}const{hasOwnProperty:W}=Object.prototype;function F(e,t){return Object.keys(t).forEach((n=>{!function(e,t,n){const o=t[n];z(o)&&(W.call(e,n)&&P(o)?e[n]=F(Object(e[n]),o):e[n]=o)}(e,t,n)})),e}const N=e("zh-CN"),H=t({"zh-CN":{name:"姓名",tel:"电话",save:"保存",confirm:"确认",cancel:"取消",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",postal:"邮政编码",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",postalEmpty:"邮政编码不正确",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}}});var Z={messages:()=>H[N.value],use(e,t){N.value=e,this.add({[e]:t})},add(e={}){F(H,e)}};function R(e){const t=q(e)+".";return(e,...n)=>{const o=Z.messages(),l=w(o,t+e)||w(o,e);return T(l)?l(...n):l}}function _(e,t){return t?"string"==typeof t?` ${e}--${t}`:Array.isArray(t)?t.reduce(((t,n)=>t+_(e,n)),""):Object.keys(t).reduce(((n,o)=>n+(t[o]?_(e,o):"")),""):""}function K(e){return(t,n)=>(t&&"string"!=typeof t&&(n=t,t=""),`${t=t?`${e}__${t}`:e}${_(t,n)}`)}function U(e){const t=`van-${e}`;return[t,K(t),R(t)]}const X=Symbol("van-form");function Y(e){return e.install=t=>{const{name:n}=e;t.component(n,e),t.component(q(`-${n}`),e)},e}function G(t,r){const a=(t=>{const l=e(),r=()=>{l.value=h(t).height};return n((()=>{o(r),setTimeout(r,100)})),l})(t);return e=>l("div",{class:r("placeholder"),style:{height:a.value?`${a.value}px`:void 0}},[e()])}const J={to:[String,Object],url:String,replace:Boolean};function Q(){const e=r().proxy;return()=>function({to:e,url:t,replace:n,$router:o}){e&&o?o[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}(e)}const[ee,te]=U("badge");const ne=Y(a({name:ee,props:{dot:Boolean,max:C,tag:$("div"),color:String,offset:Array,content:C,showZero:B,position:$("top-right")},setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:n,showZero:o}=e;return z(n)&&""!==n&&(o||0!==n)},o=()=>{const{dot:o,max:l,content:r}=e;if(!o&&n())return t.content?t.content():z(l)&&A(r)&&+r>l?`${l}+`:r},r=i((()=>{const n={background:e.color};if(e.offset){const[o,l]=e.offset;t.default?(n.top=M(l),n.right="number"==typeof o?M(-o):o.startsWith("-")?o.replace("-",""):`-${o}`):(n.marginTop=M(l),n.marginLeft=M(o))}return n})),a=()=>{if(n()||e.dot)return l("div",{class:te([e.position,{dot:e.dot,fixed:!!t.default}]),style:r.value},[o()])};return()=>{if(t.default){const{tag:n}=e;return l(n,{class:te("wrapper")},{default:()=>[t.default(),a()]})}return a()}}})),[oe,le]=U("config-provider"),re=Symbol(oe);a({name:oe,props:{tag:$("div"),themeVars:Object,iconPrefix:String},setup(e,{slots:t}){const n=i((()=>{if(e.themeVars)return function(e){const t={};return Object.keys(e).forEach((n=>{var o;t[`--van-${o=n,o.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"")}`]=e[n]})),t}(e.themeVars)}));return s(re,e),()=>l(e.tag,{class:le(),style:n.value},{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t)]}})}});const[ae,ie]=U("icon");const se=Y(a({name:ae,props:{dot:Boolean,tag:$("i"),name:String,size:C,badge:C,color:String,badgeProps:Object,classPrefix:String},setup(e,{slots:t}){const n=c(re,null),o=i((()=>e.classPrefix||(null==n?void 0:n.iconPrefix)||ie()));return()=>{const{tag:n,dot:r,name:a,size:i,badge:s,color:c}=e,d=(e=>null==e?void 0:e.includes("/"))(a);return l(ne,u({dot:r,tag:n,class:[o.value,d?"":`${o.value}-${a}`],style:{color:c,fontSize:M(i)},content:s},e.badgeProps),{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t),d&&l("img",{class:ie("image"),src:a},null)]}})}}})),[ce,ue]=U("loading"),de=Array(12).fill(null).map(((e,t)=>l("i",{class:ue("line",String(t+1))},null))),fe=l("svg",{class:ue("circular"),viewBox:"25 25 50 50"},[l("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]);const ge=Y(a({name:ce,props:{size:C,type:$("circular"),color:String,vertical:Boolean,textSize:C,textColor:String},setup(e,{slots:t}){const n=i((()=>x({color:e.color},function(e){if(z(e)){if(Array.isArray(e))return{width:M(e[0]),height:M(e[1])};const t=M(e);return{width:t,height:t}}}(e.size)))),o=()=>{var n;if(t.default)return l("span",{class:ue("text"),style:{fontSize:M(e.textSize),color:null!=(n=e.textColor)?n:e.color}},[t.default()])};return()=>{const{type:t,vertical:r}=e;return l("div",{class:ue([t,{vertical:r}]),"aria-live":"polite","aria-busy":!0},[l("span",{class:ue("spinner",t),style:n.value},["spinner"===t?de:fe]),o()])}}})),[pe,ve]=U("button");const me=Y(a({name:pe,props:x({},J,{tag:$("button"),text:String,icon:String,type:$("default"),size:$("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:$("button"),loadingSize:C,loadingText:String,loadingType:String,iconPosition:$("left")}),emits:["click"],setup(e,{emit:t,slots:n}){const o=Q(),r=()=>e.loading?n.loading?n.loading():l(ge,{size:e.loadingSize,type:e.loadingType,class:ve("loading")},null):n.icon?l("div",{class:ve("icon")},[n.icon()]):e.icon?l(se,{name:e.icon,class:ve("icon"),classPrefix:e.iconPrefix},null):void 0,a=()=>{let t;if(t=e.loading?e.loadingText:n.default?n.default():e.text,t)return l("span",{class:ve("text")},[t])},i=()=>{const{color:t,plain:n}=e;if(t){const e={color:n?t:"white"};return n||(e.background=t),t.includes("gradient")?e.border=0:e.borderColor=t,e}},s=n=>{e.loading?V(n):e.disabled||(t("click",n),o())};return()=>{const{tag:t,type:n,size:o,block:c,round:u,plain:d,square:f,loading:g,disabled:p,hairline:v,nativeType:m,iconPosition:h}=e,b=[ve([n,o,{plain:d,block:c,round:u,square:f,loading:g,disabled:p,hairline:v}]),{"van-hairline--surround":v}];return l(t,{type:m,class:b,style:i(),disabled:p,onClick:s},{default:()=>[l("div",{class:ve("content")},["left"===h&&r(),a(),"right"===h&&r()])]})}}})),[he,be]=U("cell"),ye={icon:String,size:String,title:C,value:C,label:C,center:Boolean,isLink:Boolean,border:B,required:Boolean,iconPrefix:String,valueClass:null,labelClass:null,titleClass:null,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}};const xe=Y(a({name:he,props:x({},ye,J),setup(e,{slots:t}){const n=Q(),o=()=>{if(t.label||z(e.label))return l("div",{class:[be("label"),e.labelClass]},[t.label?t.label():e.label])},r=()=>{if(t.title||z(e.title))return l("div",{class:[be("title"),e.titleClass],style:e.titleStyle},[t.title?t.title():l("span",null,[e.title]),o()])},a=()=>{const n=t.value||t.default;if(n||z(e.value)){const o=t.title||z(e.title);return l("div",{class:[be("value",{alone:!o}),e.valueClass]},[n?n():l("span",null,[e.value])])}},i=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const t=e.arrowDirection?`arrow-${e.arrowDirection}`:"arrow";return l(se,{name:t,class:be("right-icon")},null)}};return()=>{var o,s;const{size:c,center:u,border:d,isLink:f,required:g}=e,p=null!=(o=e.clickable)?o:f,v={center:u,required:g,clickable:p,borderless:!d};return c&&(v[c]=!!c),l("div",{class:be(v),role:p?"button":void 0,tabindex:p?0:void 0,onClick:n},[t.icon?t.icon():e.icon?l(se,{name:e.icon,class:be("left-icon"),classPrefix:e.iconPrefix},null):void 0,r(),a(),i(),null==(s=t.extra)?void 0:s.call(t)])}}}));function Se(e,t){return(!t.required||!function(e){return Array.isArray(e)?!e.length:0!==e&&!e}(e))&&!(t.pattern&&!t.pattern.test(String(e)))}function we(e,t){return new Promise((n=>{const o=t.validator(e,t);var l;P(l=o)&&T(l.then)&&T(l.catch)?o.then(n):n(o)}))}function ke(e,t){const{message:n}=t;return T(n)?n(e,t):n||""}function Ce({target:e}){e.composing=!0}function Be({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function $e(e){return[...e].length}const[ze,Te]=U("field"),Pe={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:C,formatter:Function,clearIcon:$("clear"),modelValue:(Ae="",{type:C,default:Ae}),inputAlign:String,placeholder:String,autocomplete:String,errorMessage:String,enterkeyhint:String,clearTrigger:$("focus"),formatTrigger:$("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}};var Ae;const Ie=Y(a({name:ze,props:x({},ye,Pe,{rows:C,type:$("text"),rules:Array,autosize:[Boolean,Object],labelWidth:C,labelClass:null,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}}),emits:["blur","focus","clear","keypress","click-input","end-validate","start-validate","click-left-icon","click-right-icon","update:modelValue"],setup(a,{emit:c,slots:g}){const p=function(){const e=r(),{name:t="unknown"}=(null==e?void 0:e.type)||{};return t}(),v=t({status:"unvalidated",focused:!1,validateMessage:""}),m=e(),h=e(),{parent:S}=b(X),w=()=>{var e;return String(null!=(e=a.modelValue)?e:"")},C=e=>z(a[e])?a[e]:S&&z(S.props[e])?S.props[e]:void 0,B=i((()=>{const e=C("readonly");if(a.clearable&&!e){const e=""!==w(),t="always"===a.clearTrigger||"focus"===a.clearTrigger&&v.focused;return e&&t}return!1})),$=i((()=>h.value&&g.input?h.value():a.modelValue)),T=()=>{v.status="unvalidated",v.validateMessage=""},A=()=>c("end-validate",{status:v.status}),I=(e=a.rules)=>new Promise((t=>{T(),e?(c("start-validate"),(e=>e.reduce(((e,t)=>e.then((()=>{if("failed"===v.status)return;let{value:e}=$;return t.formatter&&(e=t.formatter(e,t)),Se(e,t)?t.validator?we(e,t).then((n=>{n&&"string"==typeof n?(v.status="failed",v.validateMessage=n):!1===n&&(v.status="failed",v.validateMessage=ke(e,t))})):void 0:(v.status="failed",void(v.validateMessage=ke(e,t)))}))),Promise.resolve()))(e).then((()=>{"failed"===v.status?(t({name:a.name,message:v.validateMessage}),A()):(v.status="passed",t(),A())}))):t()})),O=e=>{if(S&&a.rules){const{validateTrigger:t}=S.props,n=k(t).includes(e),o=a.rules.filter((t=>t.trigger?k(t.trigger).includes(e):n));o.length&&I(o)}},q=(e,t="onChange")=>{if(e=(e=>{const{maxlength:t}=a;if(z(t)&&$e(e)>t){const n=w();return n&&$e(n)===+t?n:function(e,t){return[...e].slice(0,t).join("")}(e,+t)}return e})(e),"number"===a.type||"digit"===a.type){const t="number"===a.type;e=function(e,t=!0,n=!0){e=t?D(e,".",/\./g):e.split(".")[0];const o=t?/[^-0-9.]/g:/[^-0-9]/g;return(e=n?D(e,"-",/-/g):e.replace(/-/,"")).replace(o,"")}(e,t,t)}a.formatter&&t===a.formatTrigger&&(e=a.formatter(e)),m.value&&m.value.value!==e&&(m.value.value=e),e!==a.modelValue&&c("update:modelValue",e)},W=e=>{e.target.composing||q(e.target.value)},F=()=>{var e;return null==(e=m.value)?void 0:e.blur()},N=()=>{const e=m.value;"textarea"===a.type&&a.autosize&&e&&function(e,t){const n=j();e.style.height="auto";let o=e.scrollHeight;if(P(t)){const{maxHeight:e,minHeight:n}=t;void 0!==e&&(o=Math.min(o,e)),void 0!==n&&(o=Math.max(o,n))}o&&(e.style.height=`${o}px`,L(n))}(e,a.autosize)},H=e=>{v.focused=!0,c("focus",e),o(N),C("readonly")&&F()},Z=e=>{C("readonly")||(v.focused=!1,q(w(),"onBlur"),c("blur",e),O("onBlur"),o(N),E&&L(j()))},R=e=>c("click-input",e),_=e=>c("click-left-icon",e),K=e=>c("click-right-icon",e),U=e=>{V(e),c("update:modelValue",""),c("clear",e)},Y=i((()=>"boolean"==typeof a.error?a.error:!(!S||!S.props.showError||"failed"!==v.status)||void 0)),G=i((()=>{const e=C("labelWidth");if(e)return{width:M(e)}})),J=e=>{if(13===e.keyCode){S&&S.props.submitOnEnter||"textarea"===a.type||V(e),"search"===a.type&&F()}c("keypress",e)},Q=()=>a.id||`${p}-input`,ee=()=>{const e=Te("control",[C("inputAlign"),{error:Y.value,custom:!!g.input,"min-height":"textarea"===a.type&&!a.autosize}]);if(g.input)return l("div",{class:e,onClick:R},[g.input()]);const t={id:Q(),ref:m,name:a.name,rows:void 0!==a.rows?+a.rows:void 0,class:e,disabled:C("disabled"),readonly:C("readonly"),autofocus:a.autofocus,placeholder:a.placeholder,autocomplete:a.autocomplete,enterkeyhint:a.enterkeyhint,"aria-labelledby":a.label?`${p}-label`:void 0,onBlur:Z,onFocus:H,onInput:W,onClick:R,onChange:Be,onKeypress:J,onCompositionend:Be,onCompositionstart:Ce};return"textarea"===a.type?l("textarea",t,null):l("input",u("number"===(n=a.type)?{type:"text",inputmode:"decimal"}:"digit"===n?{type:"tel",inputmode:"numeric"}:{type:n},t),null);var n},te=()=>{const e=g["right-icon"];if(a.rightIcon||e)return l("div",{class:Te("right-icon"),onClick:K},[e?e():l(se,{name:a.rightIcon,classPrefix:a.iconPrefix},null)])},ne=()=>{if(a.showWordLimit&&a.maxlength){const e=$e(w());return l("div",{class:Te("word-limit")},[l("span",{class:Te("word-num")},[e]),f("/"),a.maxlength])}},oe=()=>{if(S&&!1===S.props.showErrorMessage)return;const e=a.errorMessage||v.validateMessage;if(e){const t=g["error-message"],n=C("errorMessageAlign");return l("div",{class:Te("error-message",n)},[t?t({message:e}):e])}},le=()=>[l("div",{class:Te("body")},[ee(),B.value&&l(se,{name:a.clearIcon,class:Te("clear"),onTouchstart:U},null),te(),g.button&&l("div",{class:Te("button")},[g.button()])]),ne(),oe()];return function(e){const t=r();t&&x(t.proxy,e)}({blur:F,focus:()=>{var e;return null==(e=m.value)?void 0:e.focus()},validate:I,formValue:$,resetValidation:T,getValidationStatus:()=>v.status}),s(y,{customValue:h,resetValidation:T,validateWithTrigger:O}),d((()=>a.modelValue),(()=>{q(w()),T(),O("onChange"),o(N)})),n((()=>{q(w(),a.formatTrigger),o(N)})),()=>{const e=C("disabled"),t=C("labelAlign"),n=(()=>{const e=C("colon")?":":"";return g.label?[g.label(),e]:a.label?l("label",{id:`${p}-label`,for:Q()},[a.label+e]):void 0})(),o=(()=>{const e=g["left-icon"];if(a.leftIcon||e)return l("div",{class:Te("left-icon"),onClick:_},[e?e():l(se,{name:a.leftIcon,classPrefix:a.iconPrefix},null)])})();return l(xe,{size:a.size,icon:a.leftIcon,class:Te({error:Y.value,disabled:e,[`label-${t}`]:t}),center:a.center,border:a.border,isLink:a.isLink,clickable:a.clickable,titleStyle:G.value,valueClass:Te("value"),titleClass:[Te("label",[t,{required:a.required}]),a.labelClass],arrowDirection:a.arrowDirection},{icon:o?()=>o:null,title:n?()=>n:null,value:le,extra:g.extra})}}})),[je,Le]=U("image");const Ee=Y(a({name:je,props:{src:String,alt:String,fit:String,position:String,round:Boolean,width:C,height:C,radius:C,lazyLoad:Boolean,iconSize:C,showError:B,errorIcon:$("photo-fail"),iconPrefix:String,showLoading:B,loadingIcon:$("photo")},emits:["load","error"],setup(t,{emit:n,slots:a}){const s=e(!1),c=e(!0),f=e(),{$Lazyload:m}=r().proxy,h=i((()=>{const e={width:M(t.width),height:M(t.height)};return z(t.radius)&&(e.overflow="hidden",e.borderRadius=M(t.radius)),e}));d((()=>t.src),(()=>{s.value=!1,c.value=!0}));const b=e=>{c.value=!1,n("load",e)},y=e=>{s.value=!0,c.value=!1,n("error",e)},x=(e,n,o)=>o?o():l(se,{name:e,size:t.iconSize,class:n,classPrefix:t.iconPrefix},null),w=()=>{if(s.value||!t.src)return;const e={alt:t.alt,class:Le("img"),style:{objectFit:t.fit,objectPosition:t.position}};return t.lazyLoad?p(l("img",u({ref:f},e),null),[[v("lazy"),t.src]]):l("img",u({src:t.src,onLoad:b,onError:y},e),null)},k=({el:e})=>{const t=()=>{e===f.value&&c.value&&b()};f.value?t():o(t)},C=({el:e})=>{e!==f.value||s.value||y()};return m&&S&&(m.$on("loaded",k),m.$on("error",C),g((()=>{m.$off("loaded",k),m.$off("error",C)}))),()=>{var e;return l("div",{class:Le({round:t.round}),style:h.value},[w(),c.value&&t.showLoading?l("div",{class:Le("loading")},[x(t.loadingIcon,Le("loading-icon"),a.loading)]):s.value&&t.showError?l("div",{class:Le("error")},[x(t.errorIcon,Le("error-icon"),a.error)]):void 0,null==(e=a.default)?void 0:e.call(a)])}}})),[Ve,Me]=U("nav-bar");const Oe=Y(a({name:Ve,props:{title:String,fixed:Boolean,zIndex:C,border:B,leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean},emits:["click-left","click-right"],setup(t,{emit:n,slots:o}){const r=e(),a=G(r,Me),i=e=>n("click-left",e),s=e=>n("click-right",e),c=()=>{const{title:e,fixed:n,border:a,zIndex:c}=t,u=function(e){const t={};return void 0!==e&&(t.zIndex=+e),t}(c),d=t.leftArrow||t.leftText||o.left,f=t.rightText||o.right;return l("div",{ref:r,style:u,class:[Me({fixed:n}),{"van-hairline--bottom":a,"van-safe-area-top":t.safeAreaInsetTop}]},[l("div",{class:Me("content")},[d&&l("div",{class:[Me("left"),"van-haptics-feedback"],onClick:i},[o.left?o.left():[t.leftArrow&&l(se,{class:Me("arrow"),name:"arrow-left"},null),t.leftText&&l("span",{class:Me("text")},[t.leftText])]]),l("div",{class:[Me("title"),"van-ellipsis"]},[o.title?o.title():e]),f&&l("div",{class:[Me("right"),"van-haptics-feedback"],onClick:s},[o.right?o.right():l("span",{class:Me("text")},[t.rightText])])])])};return()=>t.fixed&&t.placeholder?a(c):c()}}));export{me as B,Ie as F,Ee as I,Oe as N};
